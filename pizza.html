<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="pizza.css" />
    <title>Pizza</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(document).ready(function () {
        $("#submitButton").click(function (event) {
          const name = $("#name").val();
          const telephone = $("#telephone").val();
          const email = $("#email").val();
          const pizza = $("#pizza").val();
          const extraSajt = $("#extraSajt").is(":checked");

          if (name === "" || telephone === "" || email === "") {
            alert("A név, email és telefonszám kitöltése kötelező.");
            event.preventDefault(); // Prevent form submission
          } else if (name.length < 6 || name.indexOf(" ") === -1) {
            alert(
              "Név legalább 6 karakter hosszú és legalább 1 szóközből áll!"
            );
            event.preventDefault(); // Prevent form submission
          } else if (email.indexOf("@") === -1) {
            alert("Valid emailt írjon!");
            event.preventDefault(); // Prevent form submission
          } else if (!telephone.startsWith("+")) {
            alert("Telefon csak a + jellel kezdődhet.");
            event.preventDefault(); // Prevent form submission
          } else if ((pizza === "sajtos" || pizza === "sonkas") && extraSajt) {
            alert("A kiválasztott pizzahoz nem kérhető extra sajt.");
            event.preventDefault(); // Prevent form submission
          }
        });
      });
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Pizza</h1>

      <form action="pizza.php" method="post">
        <div class="form-group">
          <label for="name">Név:</label>
          <input type="text" id="name" name="nev" required />
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div class="form-group">
          <label for="telephone">Telefon:</label>
          <input type="tel" id="telephone" name="telefon" required />
        </div>
        <div class="form-group">
          <label for="pizza">Pizza:</label>
          <select id="pizza" name="pizza">
            <option value="margarita" selected>Margarita</option>
            <option value="sajtos">Sajtos</option>
            <option value="sonkas">Sonkas</option>
          </select>

          <select id="meret" name="meret">
            <option value="kicsi" selected>Kicsi</option>
            <option value="nagy">Nagy</option>
          </select>
        </div>

        <div class="form-group">
          <label for="extraSajt">Extra sajt:</label>
          <input type="checkbox" id="extraSajt" name="extraSajt" value="yes" />
        </div>
        <input type="submit" value="OK" id="submitButton" />
      </form>
    </div>
  </body>
</html>
